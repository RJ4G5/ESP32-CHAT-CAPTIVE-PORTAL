<!doctype html><html lang="pt-BR"><head><title>ESP32 Chat</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta charset="UTF-8"><style type="text/css">:root{--msger-bg:#fff;--border:2px solid #ddd;--left-msg-bg:#ececec;--right-msg-bg:#579ffb}html{box-sizing:border-box}body,html{touch-action:none}*,:after,:before{box-sizing:inherit;font-family:Arial,Helvetica,sans-serif;margin:0;padding:0}.root{align-items:center;background-color:#ebfaff;bottom:0;display:flex;flex-direction:row;left:0;position:fixed;right:0;top:0}.chat-body{background:#fff;box-shadow:0 0 10px #9d9d9d;flex-direction:column;height:100%;max-height:800px;max-width:600px;overflow:hidden;width:100%}.chat-body,.chat-header{display:flex;justify-content:space-between}.chat-header{align-items:center;background-color:#fff;height:60px;padding:5px}.chat-header-title{display:flex;flex-direction:column}.chat-header-title span:first-child{color:#424242;font-size:13px;font-weight:700}.chat-header-title span:nth-child(2){color:#424242;font-size:14px}.chat-input{background:#fff;display:flex;flex-direction:column;height:93px}.chat-input .chat-input-nikname{padding:5px}.chat-input .chat-input-text{border-top:1px solid #ddd;display:flex;height:100%}.chat-input textarea{background:#fdfdfd;border:none;color:#424242;font-size:16px;padding:5px;resize:none;width:100%}.chat-input textarea:focus{outline:none}.chat-input button{border:none;font-size:16px;width:73px}.chat-input button:active{background:#c2c2c2}.msg{align-items:flex-end;display:flex;margin-bottom:10px}.msg:last-of-type{margin:0}.msg-img{background:#ddd;background-position:50%;background-repeat:no-repeat;background-size:cover;border-radius:50%;flex-shrink:0;height:40px;margin-right:10px;width:40px}.msg-bubble{background:var(--left-msg-bg);border-radius:15px;max-width:450px;padding:15px}.msg-bubble .msg-text{font-size:14px}.msg-info{align-items:center;display:flex;font-size:13px;justify-content:space-between;margin-bottom:5px}.msg-info-name{font-weight:700;margin-right:10px}.msg-info-time{font-size:.85em}.center-msg{justify-content:center}.center-msg .msg-bubble .msg-info{display:none}.center-msg .msg-bubble .msg-text{color:#2b2b2b;font-weight:700}.left-msg .msg-bubble{border-bottom-left-radius:0}.right-msg{flex-direction:row-reverse}.right-msg .msg-bubble{background:var(--right-msg-bg);border-bottom-right-radius:0;color:#fff}.right-msg .msg-img{margin:0 0 0 10px}.msger-chat{background-color:#fcfcfe;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='260' height='260' viewBox='0 0 260 260'%3E%3Cg fill='%23ddd' fill-opacity='.4' fill-rule='evenodd'%3E%3Cpath d='M24.37 16c.2.65.39 1.32.54 2h-3.74l1.17 2.34.45.9-.24.11V28a5 5 0 0 1-2.23 8.94l-.02.06a8 8 0 0 1-7.75 6h-20a8 8 0 0 1-7.74-6l-.02-.06A5 5 0 0 1-17.45 28v-6.76l-.79-1.58-.44-.9.9-.44.63-.32H-20a23.01 23.01 0 0 1 44.37-2m-36.82 2a1 1 0 0 0-.44.1l-3.1 1.56.89 1.79 1.31-.66a3 3 0 0 1 2.69 0l2.2 1.1a1 1 0 0 0 .9 0l2.21-1.1a3 3 0 0 1 2.69 0l2.2 1.1a1 1 0 0 0 .9 0l2.21-1.1a3 3 0 0 1 2.69 0l2.2 1.1a1 1 0 0 0 .86.02l2.88-1.27a3 3 0 0 1 2.43 0l2.88 1.27a1 1 0 0 0 .85-.02l3.1-1.55-.89-1.79-1.42.71a3 3 0 0 1-2.56.06l-2.77-1.23a1 1 0 0 0-.4-.09h-.01a1 1 0 0 0-.4.09l-2.78 1.23a3 3 0 0 1-2.56-.06l-2.3-1.15a1 1 0 0 0-.45-.11h-.01a1 1 0 0 0-.44.1L.9 19.22a3 3 0 0 1-2.69 0l-2.2-1.1a1 1 0 0 0-.45-.11h-.01a1 1 0 0 0-.44.1l-2.21 1.11a3 3 0 0 1-2.69 0l-2.2-1.1a1 1 0 0 0-.45-.11h-.01zm0-2h-4.9a21.01 21.01 0 0 1 39.61 0h-2.09l-.06-.13-.26.13h-32.31zm30.35 7.68 1.36-.68h1.3v2h-36v-1.15l.34-.17 1.36-.68h2.59l1.36.68a3 3 0 0 0 2.69 0l1.36-.68h2.59l1.36.68a3 3 0 0 0 2.69 0L2.26 23h2.59l1.36.68a3 3 0 0 0 2.56.06l1.67-.74h3.23l1.67.74a3 3 0 0 0 2.56-.06M-13.82 27l16.37 4.91L18.93 27zm-.63 2h.34l16.66 5 16.67-5h.33a3 3 0 1 1 0 6h-34a3 3 0 1 1 0-6m1.35 8a6 6 0 0 0 5.65 4h20a6 6 0 0 0 5.66-4zM284.37 16c.2.65.39 1.32.54 2h-3.74l1.17 2.34.45.9-.24.11V28a5 5 0 0 1-2.23 8.94l-.02.06a8 8 0 0 1-7.75 6h-20a8 8 0 0 1-7.74-6l-.02-.06a5 5 0 0 1-2.24-8.94v-6.76l-.79-1.58-.44-.9.9-.44.63-.32H240a23.01 23.01 0 0 1 44.37-2m-36.82 2a1 1 0 0 0-.44.1l-3.1 1.56.89 1.79 1.31-.66a3 3 0 0 1 2.69 0l2.2 1.1a1 1 0 0 0 .9 0l2.21-1.1a3 3 0 0 1 2.69 0l2.2 1.1a1 1 0 0 0 .9 0l2.21-1.1a3 3 0 0 1 2.69 0l2.2 1.1a1 1 0 0 0 .86.02l2.88-1.27a3 3 0 0 1 2.43 0l2.88 1.27a1 1 0 0 0 .85-.02l3.1-1.55-.89-1.79-1.42.71a3 3 0 0 1-2.56.06l-2.77-1.23a1 1 0 0 0-.4-.09h-.01a1 1 0 0 0-.4.09l-2.78 1.23a3 3 0 0 1-2.56-.06l-2.3-1.15a1 1 0 0 0-.45-.11h-.01a1 1 0 0 0-.44.1l-2.21 1.11a3 3 0 0 1-2.69 0l-2.2-1.1a1 1 0 0 0-.45-.11h-.01a1 1 0 0 0-.44.1l-2.21 1.11a3 3 0 0 1-2.69 0l-2.2-1.1a1 1 0 0 0-.45-.11zm0-2h-4.9a21.01 21.01 0 0 1 39.61 0h-2.09l-.06-.13-.26.13h-32.31zm30.35 7.68 1.36-.68h1.3v2h-36v-1.15l.34-.17 1.36-.68h2.59l1.36.68a3 3 0 0 0 2.69 0l1.36-.68h2.59l1.36.68a3 3 0 0 0 2.69 0l1.36-.68h2.59l1.36.68a3 3 0 0 0 2.56.06l1.67-.74h3.23l1.67.74a3 3 0 0 0 2.56-.06M246.18 27l16.37 4.91L278.93 27zm-.63 2h.34l16.66 5 16.67-5h.33a3 3 0 1 1 0 6h-34a3 3 0 1 1 0-6m1.35 8a6 6 0 0 0 5.65 4h20a6 6 0 0 0 5.66-4zM159.5 21.02A9 9 0 0 0 151 15h-42a9 9 0 0 0-8.5 6.02 6 6 0 0 0 .02 11.96A8.99 8.99 0 0 0 109 45h42a9 9 0 0 0 8.48-12.02 6 6 0 0 0 .02-11.96M151 17h-42a7 7 0 0 0-6.33 4h54.66a7 7 0 0 0-6.33-4m-9.34 26a8.98 8.98 0 0 0 3.34-7h-2a7 7 0 0 1-7 7h-4.34a8.98 8.98 0 0 0 3.34-7h-2a7 7 0 0 1-7 7h-4.34a8.98 8.98 0 0 0 3.34-7h-2a7 7 0 0 1-7 7h-7a7 7 0 1 1 0-14h42a7 7 0 1 1 0 14zM109 27a9 9 0 0 0-7.48 4H101a4 4 0 1 1 0-8h58a4 4 0 0 1 0 8h-.52a9 9 0 0 0-7.48-4zM39 115a8 8 0 1 0 0-16 8 8 0 0 0 0 16m6-8a6 6 0 1 1-12 0 6 6 0 0 1 12 0m-3-29v-2h8v-6H40a4 4 0 0 0-4 4v10H22l-1.33 4-.67 2h2.19L26 130h26l3.81-40H58l-.67-2L56 84H42zm-4-4v10h2V74h8v-2h-8a2 2 0 0 0-2 2m2 12h14.56l.67 2H22.77l.67-2zm13.8 4H24.2l3.62 38h22.36zM129 92h-6v4h-6v4h-6v14h-3l.24 2 3.76 32h36l3.76-32 .24-2h-3v-14h-6v-4h-6v-4zm18 22v-12h-4v4h3v8zm-3 0v-6h-4v6zm-6 6v-16h-4v19.17c1.6-.7 2.97-1.8 4-3.17m-6 3.8V100h-4v23.8a10 10 0 0 0 4 0m-6-.63V104h-4v16a10.04 10.04 0 0 0 4 3.17m-6-9.17v-6h-4v6zm-6 0v-8h3v-4h-4v12zm27-12v-4h-4v4h3v4h1zm-6 0v-8h-4v4h3v4zm-6-4v-4h-4v8h1v-4zm-6 4v-4h-4v8h1v-4zm7 24a12 12 0 0 0 11.83-10h7.92l-3.53 30h-32.44l-3.53-30h7.92A12 12 0 0 0 130 126M212 86v2h-4v-2zm4 0h-2v2h2zm-20 0v.1a5 5 0 0 0-.56 9.65l.06.25 1.12 4.48a2 2 0 0 0 1.94 1.52h.01l7.02 24.55a2 2 0 0 0 1.92 1.45h4.98a2 2 0 0 0 1.92-1.45l7.02-24.55a2 2 0 0 0 1.95-1.52L224.5 96l.06-.25a5 5 0 0 0-.56-9.65V86a14 14 0 0 0-28 0m4 0h6v2h-9a3 3 0 1 0 0 6h26a3 3 0 1 0 0-6h-3v-2h2a12 12 0 1 0-24 0zm-1.44 14-1-4h24.88l-1 4zm8.95 26-6.86-24h18.7l-6.86 24zM150 242a22 22 0 1 0 0-44 22 22 0 0 0 0 44m24-22a24 24 0 1 1-48 0 24 24 0 0 1 48 0m-28.38 17.73 2.04-.87a6 6 0 0 1 4.68 0l2.04.87a2 2 0 0 0 2.5-.82l1.14-1.9a6 6 0 0 1 3.79-2.75l2.15-.5a2 2 0 0 0 1.54-2.12l-.19-2.2a6 6 0 0 1 1.45-4.46l1.45-1.67a2 2 0 0 0 0-2.62l-1.45-1.67a6 6 0 0 1-1.45-4.46l.2-2.2a2 2 0 0 0-1.55-2.13l-2.15-.5a6 6 0 0 1-3.8-2.75l-1.13-1.9a2 2 0 0 0-2.5-.8l-2.04.86a6 6 0 0 1-4.68 0l-2.04-.87a2 2 0 0 0-2.5.82l-1.14 1.9a6 6 0 0 1-3.79 2.75l-2.15.5a2 2 0 0 0-1.54 2.12l.19 2.2a6 6 0 0 1-1.45 4.46l-1.45 1.67a2 2 0 0 0 0 2.62l1.45 1.67a6 6 0 0 1 1.45 4.46l-.2 2.2a2 2 0 0 0 1.55 2.13l2.15.5a6 6 0 0 1 3.8 2.75l1.13 1.9a2 2 0 0 0 2.5.8zm2.82.97a4 4 0 0 1 3.12 0l2.04.87a4 4 0 0 0 4.99-1.62l1.14-1.9a4 4 0 0 1 2.53-1.84l2.15-.5a4 4 0 0 0 3.09-4.24l-.2-2.2a4 4 0 0 1 .97-2.98l1.45-1.67a4 4 0 0 0 0-5.24l-1.45-1.67a4 4 0 0 1-.97-2.97l.2-2.2a4 4 0 0 0-3.09-4.25l-2.15-.5a4 4 0 0 1-2.53-1.84l-1.14-1.9a4 4 0 0 0-5-1.62l-2.03.87a4 4 0 0 1-3.12 0l-2.04-.87a4 4 0 0 0-4.99 1.62l-1.14 1.9a4 4 0 0 1-2.53 1.84l-2.15.5a4 4 0 0 0-3.09 4.24l.2 2.2a4 4 0 0 1-.97 2.98l-1.45 1.67a4 4 0 0 0 0 5.24l1.45 1.67a4 4 0 0 1 .97 2.97l-.2 2.2a4 4 0 0 0 3.09 4.25l2.15.5a4 4 0 0 1 2.53 1.84l1.14 1.9a4 4 0 0 0 5 1.62zM152 207a1 1 0 1 1 2 0 1 1 0 0 1-2 0m6 2a1 1 0 1 1 2 0 1 1 0 0 1-2 0m-11 1a1 1 0 1 1 2 0 1 1 0 0 1-2 0m-6 0a1 1 0 1 1 2 0 1 1 0 0 1-2 0m3-5a1 1 0 1 1 2 0 1 1 0 0 1-2 0m-8 8a1 1 0 1 1 2 0 1 1 0 0 1-2 0m3 6a1 1 0 1 1 2 0 1 1 0 0 1-2 0m0 6a1 1 0 1 1 2 0 1 1 0 0 1-2 0m4 7a1 1 0 1 1 2 0 1 1 0 0 1-2 0m5-2a1 1 0 1 1 2 0 1 1 0 0 1-2 0m5 4a1 1 0 1 1 2 0 1 1 0 0 1-2 0m4-6a1 1 0 1 1 2 0 1 1 0 0 1-2 0m6-4a1 1 0 1 1 2 0 1 1 0 0 1-2 0m-4-3a1 1 0 1 1 2 0 1 1 0 0 1-2 0m4-3a1 1 0 1 1 2 0 1 1 0 0 1-2 0m-5-4a1 1 0 1 1 2 0 1 1 0 0 1-2 0m-24 6a1 1 0 1 1 2 0 1 1 0 0 1-2 0m16 5a5 5 0 1 0 0-10 5 5 0 0 0 0 10m7-5a7 7 0 1 1-14 0 7 7 0 0 1 14 0m86-29a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2zm19 9a1 1 0 0 1 1-1h2a1 1 0 0 1 0 2h-2a1 1 0 0 1-1-1m-14 5a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2zm-25 1a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2zm5 4a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2zm9 0a1 1 0 0 1 1-1h2a1 1 0 0 1 0 2h-2a1 1 0 0 1-1-1m15 1a1 1 0 0 1 1-1h2a1 1 0 0 1 0 2h-2a1 1 0 0 1-1-1m12-2a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2zm-11-14a1 1 0 0 1 1-1h2a1 1 0 0 1 0 2h-2a1 1 0 0 1-1-1m-19 0a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2zm6 5a1 1 0 0 1 1-1h2a1 1 0 0 1 0 2h-2a1 1 0 0 1-1-1m-25 15c0-.47.01-.94.03-1.4a5 5 0 0 1-1.7-8 3.99 3.99 0 0 1 1.88-5.18 5 5 0 0 1 3.4-6.22 3 3 0 0 1 1.46-1.05 5 5 0 0 1 7.76-3.27A30.86 30.86 0 0 1 246 184c6.79 0 13.06 2.18 18.17 5.88a5 5 0 0 1 7.76 3.27 3 3 0 0 1 1.47 1.05 5 5 0 0 1 3.4 6.22 4 4 0 0 1 1.87 5.18 4.98 4.98 0 0 1-1.7 8c.02.46.03.93.03 1.4v1h-62zm.83-7.17a31 31 0 0 0-.62 3.57 3 3 0 0 1-.61-4.2q.555.42 1.23.63m1.49-4.61c-.36.87-.68 1.76-.96 2.68a2 2 0 0 1-.21-3.71c.33.4.73.75 1.17 1.03m2.32-4.54c-.54.86-1.03 1.76-1.49 2.68a3 3 0 0 1-.07-4.67 3 3 0 0 0 1.56 1.99m1.14-1.7c.35-.5.72-.98 1.1-1.46a1 1 0 1 0-1.1 1.45zm5.34-5.77c-1.03.86-2 1.79-2.9 2.77a3 3 0 0 0-1.11-.77 3 3 0 0 1 4-2zm42.66 2.77c-.9-.98-1.87-1.9-2.9-2.77a3 3 0 0 1 4.01 2 3 3 0 0 0-1.1.77zm1.34 1.54c.38.48.75.96 1.1 1.45a1 1 0 1 0-1.1-1.45m3.73 5.84c-.46-.92-.95-1.82-1.5-2.68a3 3 0 0 0 1.57-1.99 3 3 0 0 1-.07 4.67m1.8 4.53c-.29-.9-.6-1.8-.97-2.67.44-.28.84-.63 1.17-1.03a2 2 0 0 1-.2 3.7m1.14 5.51c-.14-1.21-.35-2.4-.62-3.57q.675-.21 1.23-.63a2.99 2.99 0 0 1-.6 4.2zM275 214a29 29 0 0 0-57.97 0h57.96zM72.33 198.12c-.21-.32-.34-.7-.34-1.12v-12h-2v12a4.01 4.01 0 0 0 7.09 2.54c.57-.69.91-1.57.91-2.54v-12h-2v12a1.99 1.99 0 0 1-2 2 2 2 0 0 1-1.66-.88M75 176c.38 0 .74-.04 1.1-.12a4 4 0 0 0 6.19 2.4A13.94 13.94 0 0 1 84 185v24a6 6 0 0 1-6 6h-3v9a5 5 0 1 1-10 0v-9h-3a6 6 0 0 1-6-6v-24a14 14 0 0 1 14-14 5 5 0 0 0 5 5m-17 15v12a1.99 1.99 0 0 0 1.22 1.84 2 2 0 0 0 2.44-.72c.21-.32.34-.7.34-1.12v-12h2v12a3.98 3.98 0 0 1-5.35 3.77 4 4 0 0 1-.65-.3V209a4 4 0 0 0 4 4h16a4 4 0 0 0 4-4v-24c.01-1.53-.23-2.88-.72-4.17-.43.1-.87.16-1.28.17a6 6 0 0 1-5.2-3 7 7 0 0 1-6.47-4.88A12 12 0 0 0 58 185zm9 24v9a3 3 0 1 0 6 0v-9zM-17 191a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2zm19 9a1 1 0 0 1 1-1h2a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1m-14 5a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2zm-25 1a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2zm5 4a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2zm9 0a1 1 0 0 1 1-1h2a1 1 0 0 1 0 2h-2a1 1 0 0 1-1-1m15 1a1 1 0 0 1 1-1h2a1 1 0 0 1 0 2h-2a1 1 0 0 1-1-1m12-2a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2zm-11-14a1 1 0 0 1 1-1h2a1 1 0 0 1 0 2h-2a1 1 0 0 1-1-1m-19 0a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2zm6 5a1 1 0 0 1 1-1h2a1 1 0 0 1 0 2h-2a1 1 0 0 1-1-1m-25 15c0-.47.01-.94.03-1.4a5 5 0 0 1-1.7-8 3.99 3.99 0 0 1 1.88-5.18 5 5 0 0 1 3.4-6.22 3 3 0 0 1 1.46-1.05 5 5 0 0 1 7.76-3.27A30.86 30.86 0 0 1-14 184c6.79 0 13.06 2.18 18.17 5.88a5 5 0 0 1 7.76 3.27 3 3 0 0 1 1.47 1.05 5 5 0 0 1 3.4 6.22 4 4 0 0 1 1.87 5.18 4.98 4.98 0 0 1-1.7 8c.02.46.03.93.03 1.4v1h-62zm.83-7.17a31 31 0 0 0-.62 3.57 3 3 0 0 1-.61-4.2q.555.42 1.23.63m1.49-4.61c-.36.87-.68 1.76-.96 2.68a2 2 0 0 1-.21-3.71c.33.4.73.75 1.17 1.03m2.32-4.54c-.54.86-1.03 1.76-1.49 2.68a3 3 0 0 1-.07-4.67 3 3 0 0 0 1.56 1.99m1.14-1.7c.35-.5.72-.98 1.1-1.46a1 1 0 1 0-1.1 1.45zm5.34-5.77c-1.03.86-2 1.79-2.9 2.77a3 3 0 0 0-1.11-.77 3 3 0 0 1 4-2zm42.66 2.77c-.9-.98-1.87-1.9-2.9-2.77a3 3 0 0 1 4.01 2 3 3 0 0 0-1.1.77zm1.34 1.54c.38.48.75.96 1.1 1.45a1 1 0 1 0-1.1-1.45m3.73 5.84c-.46-.92-.95-1.82-1.5-2.68a3 3 0 0 0 1.57-1.99 3 3 0 0 1-.07 4.67m1.8 4.53c-.29-.9-.6-1.8-.97-2.67.44-.28.84-.63 1.17-1.03a2 2 0 0 1-.2 3.7m1.14 5.51c-.14-1.21-.35-2.4-.62-3.57q.675-.21 1.23-.63a2.99 2.99 0 0 1-.6 4.2zM15 214a29 29 0 0 0-57.97 0h57.96z'/%3E%3C/g%3E%3C/svg%3E");display:flex;flex-flow:column;height:100%;min-width:0;overflow-y:auto;padding:10px;touch-action:none;width:100%}.msger-chat::-webkit-scrollbar{display:none}.scroll-buttons{display:flex;flex-direction:column;position:fixed;right:-51px;z-index:1000}.scroll-indicator{background-color:rgba(0,0,0,.1);border-radius:10px;height:100%;min-height:0;min-width:0;position:relative;width:10px}.scroll-position{background-color:rgba(7,94,84,.8);border-radius:10px;height:50px;left:0;position:absolute;width:100%}.chat-header-perfil{align-items:center;display:flex;padding:10px}.control-buttons{display:flex;flex:1;flex-direction:column;min-height:0;width:100%}.control-buttons .btn-control{background:#e7e7e7;border:0;font-size:18px;height:44px;text-transform:uppercase;touch-action:auto}.control-buttons #scroll-up{box-shadow:0 4px 12px #4b4b4b45;z-index:0}.control-buttons #scroll-down{box-shadow:0 -4px 12px #4b4b4b45;z-index:0}.control-buttons .btn-control:active{background:#bfbfbf}.scroll-indicator-container{display:flex;height:100%;min-height:0}.bot01-avatar{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAxMjAgMTIwIj48bWFzayBpZD0iYSI+PHJlY3Qgd2lkdGg9IjEyMCIgaGVpZ2h0PSIxMjAiIGZpbGw9IiNmZmYiIHJ4PSIwIiByeT0iMCIvPjwvbWFzaz48ZyBtYXNrPSJ1cmwoI2EpIj48cGF0aCBmaWxsPSIjMDBhY2MxIiBkPSJNMCAwaDEyMHYxMjBIMHoiLz48ZyBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii42IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMiA2OCkiPjxyZWN0IHdpZHRoPSI2IiBoZWlnaHQ9IjE0IiB4PSIyOCIgeT0iMTAiIHJ4PSIyIi8+PHJlY3Qgd2lkdGg9IjYiIGhlaWdodD0iMTQiIHg9IjE0IiB5PSIxMCIgcng9IjIiLz48cmVjdCB3aWR0aD0iNiIgaGVpZ2h0PSIxNCIgeD0iNDIiIHk9IjEwIiByeD0iMiIvPjxyZWN0IHdpZHRoPSI2IiBoZWlnaHQ9IjE0IiB4PSI1NiIgeT0iMTAiIHJ4PSIyIi8+PC9nPjxnIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii44IiBkPSJNNjEgMjBjMzQuNzUgMCA0OSAxNy40NyA0OSAzMVM5MC40MSA2OCA2MSA2OGMtMjkuMDUgMC01MS0zLjQ3LTUxLTE3czE1LjExLTMxIDUxLTMxIi8+PHBhdGggZmlsbD0iIzI1QTZGNSIgZD0iTTM2LjgyIDU0LjY1Yy02LjUzLTEuMzUtMTEuMjQtNi4zNC0xMC41Mi0xMS4xNC43Mi00Ljc5IDYuNi03LjU4IDEzLjEyLTYuMjMgNi41MyAxLjM2IDExLjI0IDYuMzUgMTAuNTIgMTEuMTVzLTYuNiA3LjU5LTEzLjEyIDYuMjNabTQ2LjYgMGMtNi41MiAxLjM2LTEyLjQtMS40My0xMy4xMi02LjIzczQtOS44IDEwLjUyLTExLjE1IDEyLjQgMS40NCAxMy4xMiA2LjI0Yy43MiA0LjgxLTQgOS44LTEwLjUyIDExLjE1WiIvPjwvZz48L2c+PC9zdmc+)}.bot02-avatar{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAxMjAgMTIwIj48bWFzayBpZD0iYSI+PHJlY3Qgd2lkdGg9IjEyMCIgaGVpZ2h0PSIxMjAiIGZpbGw9IiNmZmYiIHJ4PSIwIiByeT0iMCIvPjwvbWFzaz48ZyBtYXNrPSJ1cmwoI2EpIj48cGF0aCBmaWxsPSIjMDBhY2MxIiBkPSJNMCAwaDEyMHYxMjBIMHoiLz48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii42IiBkPSJNNDkuMDUgNzYuNDRhMiAyIDAgMSAxIDMuOS0uODhDNTMuNzIgNzguOTYgNTYuNCA4MSA2MCA4MXM2LjI4LTIuMDQgNy4wNS01LjQ0YTIgMiAwIDEgMSAzLjkuODhDNjkuNzUgODEuNyA2NS40MyA4NSA2MCA4NXMtOS43Ni0zLjMtMTAuOTUtOC41NiIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDggMjApIj48cmVjdCB3aWR0aD0iMTA0IiBoZWlnaHQ9IjM0IiB5PSIxMSIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuOCIgcng9IjE3Ii8+PGNpcmNsZSBjeD0iMjkiIGN5PSIyOCIgcj0iMTMiIGZpbGw9IiNGMUVFREEiLz48Y2lyY2xlIGN4PSI3NSIgY3k9IjI4IiByPSIxMyIgZmlsbD0iI0YxRUVEQSIvPjxyZWN0IHdpZHRoPSIxMCIgaGVpZ2h0PSIxMCIgeD0iMjQiIHk9IjIzIiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii44IiByeD0iMiIvPjxyZWN0IHdpZHRoPSIxMCIgaGVpZ2h0PSIxMCIgeD0iNzAiIHk9IjIzIiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii44IiByeD0iMiIvPjwvZz48L2c+PC9zdmc+)}.bot03-avatar{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAxMjAgMTIwIj48bWFzayBpZD0iYSI+PHJlY3Qgd2lkdGg9IjEyMCIgaGVpZ2h0PSIxMjAiIGZpbGw9IiNmZmYiIHJ4PSIwIiByeT0iMCIvPjwvbWFzaz48ZyBtYXNrPSJ1cmwoI2EpIj48cGF0aCBmaWxsPSIjN2NiMzQyIiBkPSJNMCAwaDEyMHYxMjBIMHoiLz48cmVjdCB3aWR0aD0iNDQiIGhlaWdodD0iNCIgeD0iMTYiIHk9IjgiIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjgiIHJ4PSIyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMiA2OCkiLz48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii44IiBkPSJNMTA0IDIySDE2Yy00LjUgMC04IDMuNS04IDguMDNWNDhjMCA0LjUgMy41IDggOCA4aDEzYzggMCAxMSA4IDE4IDhoMjdjNyAwIDktOCAxNy04aDEzYzQuNSAwIDgtMy41IDgtOFYzMGMwLTQuNS0zLjUtOC04LTgiLz48cGF0aCBmaWxsPSIjRkYzRDNEIiBkPSJNOTUgMzRIMjVjLTMuNSAwLTUgMy01IDV2MmMwIDIgMS41IDUgNSA1aDEyYzYgMCAxMS42MiA4IDE3IDhoMTRjNS4zOCAwIDktOCAxNS04aDEyYzMuNSAwIDUtMyA1LTV2LTJjMC0yLTEuNS01LTUtNSIvPjxwYXRoIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iLjIiIGQ9Ik0zMC40NCA1Ni4wOSA0NS4yNiAyMmgxMUwzOS40IDYwLjc4bC0uNzYtLjU4Yy0yLjM4LTEuODItNC44My0zLjY5LTguMi00LjExTTE5LjQ4IDU2bDE0Ljc4LTM0aDRMMjMuNDggNTZ6Ii8+PC9nPjwvc3ZnPg==)}.bot04-avatar{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAxMjAgMTIwIj48bWFzayBpZD0iYSI+PHJlY3Qgd2lkdGg9IjEyMCIgaGVpZ2h0PSIxMjAiIGZpbGw9IiNmZmYiIHJ4PSIwIiByeT0iMCIvPjwvbWFzaz48ZyBtYXNrPSJ1cmwoI2EpIj48cGF0aCBmaWxsPSIjMDA4OTdiIiBkPSJNMCAwaDEyMHYxMjBIMHoiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMiA2OCkiPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjgiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTE4IDEwLjIyQzE4IDIxLjc4IDI0LjQ3IDI4IDM4IDI4YzEzLjUyIDAgMjAtNi4zNCAyMC0xNy43OEM1OCA5LjUgNTcuMTcgOCA1NSA4SDIxYy0yLjA1IDAtMyAxLjM4LTMgMi4yMiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PG1hc2sgaWQ9ImIiIHdpZHRoPSI0MCIgaGVpZ2h0PSIyMCIgeD0iMTgiIHk9IjgiIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiIHN0eWxlPSJtYXNrLXR5cGU6bHVtaW5hbmNlIj48cGF0aCBmaWxsPSIjZmZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xOCAxMC4yMkMxOCAyMS43OCAyNC40NyAyOCAzOCAyOGMxMy41MiAwIDIwLTYuMzQgMjAtMTcuNzhDNTggOS41IDU3LjE3IDggNTUgOEgyMWMtMi4wNSAwLTMgMS4zOC0zIDIuMjIiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvbWFzaz48ZyBtYXNrPSJ1cmwoI2IpIj48cmVjdCB3aWR0aD0iMTYiIGhlaWdodD0iMTQiIHg9IjMwIiB5PSIyIiBmaWxsPSIjZmZmIiByeD0iMiIvPjwvZz48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOCAyMCkiPjxyZWN0IHdpZHRoPSIxMDQiIGhlaWdodD0iMzQiIHk9IjExIiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii44IiByeD0iMTciLz48Y2lyY2xlIGN4PSIyOSIgY3k9IjI4IiByPSIxMyIgZmlsbD0iI0YxRUVEQSIvPjxjaXJjbGUgY3g9Ijc1IiBjeT0iMjgiIHI9IjEzIiBmaWxsPSIjRjFFRURBIi8+PHJlY3Qgd2lkdGg9IjEwIiBoZWlnaHQ9IjEwIiB4PSIyNCIgeT0iMjMiIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjgiIHJ4PSIyIi8+PHJlY3Qgd2lkdGg9IjEwIiBoZWlnaHQ9IjEwIiB4PSI3MCIgeT0iMjMiIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjgiIHJ4PSIyIi8+PC9nPjwvZz48L3N2Zz4=)}.bot05-avatar{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAxMjAgMTIwIj48bWFzayBpZD0iYSI+PHJlY3Qgd2lkdGg9IjEyMCIgaGVpZ2h0PSIxMjAiIGZpbGw9IiNmZmYiIHJ4PSIwIiByeT0iMCIvPjwvbWFzaz48ZyBtYXNrPSJ1cmwoI2EpIj48cGF0aCBmaWxsPSIjZmRkODM1IiBkPSJNMCAwaDEyMHYxMjBIMHoiLz48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii42IiBkPSJNNDkuMDUgNzYuNDRhMiAyIDAgMSAxIDMuOS0uODhDNTMuNzIgNzguOTYgNTYuNCA4MSA2MCA4MXM2LjI4LTIuMDQgNy4wNS01LjQ0YTIgMiAwIDEgMSAzLjkuODhDNjkuNzUgODEuNyA2NS40MyA4NSA2MCA4NXMtOS43Ni0zLjMtMTAuOTUtOC41NiIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDggMjApIj48cmVjdCB3aWR0aD0iOTEiIGhlaWdodD0iMTYiIHg9IjciIHk9IjE2IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii44IiByeD0iNCIvPjxtYXNrIGlkPSJiIiB3aWR0aD0iOTEiIGhlaWdodD0iMTYiIHg9IjciIHk9IjE2IiBtYXNrVW5pdHM9InVzZXJTcGFjZU9uVXNlIiBzdHlsZT0ibWFzay10eXBlOmx1bWluYW5jZSI+PHJlY3Qgd2lkdGg9IjkxIiBoZWlnaHQ9IjE2IiB4PSI3IiB5PSIxNiIgZmlsbD0iI2ZmZiIgcng9IjQiLz48L21hc2s+PGcgZmlsbD0iI2ZmZiIgZmlsbC1vcGFjaXR5PSIuOCIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIG1hc2s9InVybCgjYikiPjxwYXRoIGQ9Ik03NiA3aDE4TDgyIDM3SDY0ek01MiA3aDlMNDkgMzdoLTl6Ii8+PC9nPjwvZz48L2c+PC9zdmc+)}.perfil-user{display:flex;flex-direction:column;font-size:15px;justify-content:center;margin-left:5px}.perfil-user #userCount{font-weight:700;margin-left:5px}</style></head><body><div class="root"><div class="chat-body"><div class="chat-header"><div class="chat-header-perfil"><div class="msg-img" style="width:33px;height:33px"></div><div class="perfil-user"><span>Conectado como <strong id="user_name">---</strong> </span><span><usercount id="userCount">--</usercount>usuários online</span></div></div></div><div class="control-buttons"><button class="btn-control" id="scroll-up">Subir</button><div class="scroll-indicator-container"><div class="msger-chat" id="msger-chat"></div><div class="scroll-indicator"><div id="scroll-position" class="scroll-position"></div></div></div><button class="btn-control" id="scroll-down">Descer</button></div><div class="chat-input"><div class="chat-input-text"><textarea id="chat-input-text" placeholder="O que está acontecendo?"></textarea> <button id="sendButton">Enviar</button></div></div></div></div><script defer="defer">(()=>{var e={913:(e,t,s)=>{"use strict";s.r(t)}},t={};function s(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,s),a.exports}s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s(913);class n{static SCROLL_CONFIG={STEP:40,INTERVAL:50,INDICATOR_MIN:12};static DOM_ELEMENTS={chatContainer:"msger-chat",scrollUpButton:"scroll-up",scrollDownButton:"scroll-down",scrollIndicator:"scroll-position",chatInput:"chat-input-text",sendButton:"sendButton",userCountDisplay:"userCount",userNameDisplay:"user_name",profileImage:".chat-header-perfil .msg-img"};static PREDEFINED_USERS=[{name:"Cupuaçu",avatar:"bot01-avatar",id:1},{name:"Jabuticaba",avatar:"bot02-avatar",id:2},{name:"Açaí",avatar:"bot03-avatar",id:3},{name:"Bacuri",avatar:"bot04-avatar",id:4},{name:"Uxi",avatar:"bot05-avatar",id:5},{name:"Sistema",id:6},{name:"Servidor",id:7}];constructor(){this.elements=this.initializeElements(),this.webSocket=null,this.currentUser=null,this.messageHistory=[],this.lastMessageId=0,this.scrollState={isActive:!1,timer:null},this.initializeChat()}initializeElements(){const e={};for(const[t,s]of Object.entries(n.DOM_ELEMENTS))e[t]=s.startsWith(".")?document.querySelector(s):document.getElementById(s);return Object.values(e).some((e=>!e)),e}initializeChat(){this.setupScrollEvents(),this.scrollToBottom(),this.webSocket=this.createWebSocketConnection(),this.webSocket&&this.setupInputEvents()}setupScrollEvents(){const{chatContainer:e,scrollUpButton:t,scrollDownButton:s}=this.elements;this.updateScrollIndicator(),e.addEventListener("scroll",(()=>this.updateScrollIndicator())),[{element:t,direction:-1},{element:s,direction:1}].forEach((({element:e,direction:t})=>{this.addScrollEventListeners(e,(()=>this.scrollChat(t)))}))}addScrollEventListeners(e,t){const s=e=>{e.preventDefault(),this.scrollState.isActive||(this.scrollState.isActive=!0,t(),this.scrollState.timer=setInterval(t,n.SCROLL_CONFIG.INTERVAL))},i=()=>{this.scrollState.timer&&(clearInterval(this.scrollState.timer),this.scrollState.timer=null),this.scrollState.isActive=!1};e.addEventListener("mousedown",s),e.addEventListener("touchstart",s),e.addEventListener("mouseup",i),e.addEventListener("touchend",i),e.addEventListener("touchcancel",i),e.addEventListener("click",t)}scrollChat(e){this.elements.chatContainer.scrollTop+=e*n.SCROLL_CONFIG.STEP}updateScrollIndicator(){const{chatContainer:e,scrollIndicator:t}=this.elements,s=e.scrollHeight-e.clientHeight,i=e.scrollTop/s*100,a=Math.min(Math.max(i,n.SCROLL_CONFIG.INDICATOR_MIN),100);t.style.bottom=100-a+"%"}scrollToBottom(){const{chatContainer:e}=this.elements;e.scrollTop=e.scrollHeight}createWebSocketConnection(){try{const e=new WebSocket("ws://192.168.4.1:81/ws");return e.onopen=()=>this.handleWebSocketOpen(),e.onmessage=e=>this.handleWebSocketMessage(e),e.onclose=e=>this.handleWebSocketClose(e),e.onerror=e=>this.handleWebSocketError(e),e}catch(e){return this.addSystemMessage("Falha ao conectar. Tente novamente mais tarde."),null}}setupInputEvents(){const{sendButton:e,chatInput:t}=this.elements;e.onclick=()=>this.sendMessage(),t.addEventListener("keydown",(e=>{"Enter"===e.key&&this.sendMessage()}))}handleWebSocketOpen(){this.addSystemMessage("Conectado ao servidor!")}handleWebSocketClose(e){this.addSystemMessage(`Desconectado do servidor (código: ${e.code})!`),setTimeout((()=>{this.addSystemMessage("Tentando reconectar..."),this.initializeChat()}),5e3)}handleWebSocketError(e){this.addSystemMessage("Erro de conexão")}handleWebSocketMessage(e){try{const t=JSON.parse(e.data);switch(t.type){case"message":this.handleNewMessage(t);break;case"identify":this.addSystemMessage(`${t.username||"Novo usuário"} se conectou`);break;case"idClient":this.handleClientIdentification(t);break;case"userCount":this.elements.userCountDisplay.textContent=t.count;break;case"userDesconect":this.handleUserDisconnect(t);break;case"syncRequest":this.handleSyncRequest(t);break;case"syncResponse":this.handleSyncResponse(t)}}catch(e){this.addSystemMessage("Erro ao processar mensagem")}}handleSyncRequest(e){!e.targetClientId&&this.isWebSocketOpen()&&this.messageHistory.length>e.messageCount&&this.webSocket.send(JSON.stringify({type:"syncResponse",targetClientId:e.clientId,history:this.messageHistory,sender:this.currentUser.name,senderId:this.currentUser.id}))}handleSyncResponse(e){e.targetClientId===this.currentUser.id&&e.history?.length>0&&(0===this.messageHistory.length&&(this.elements.chatContainer.innerHTML=""),e.history.forEach((e=>{if(!this.messageHistory.some((t=>t.id===e.id&&t.userId===e.usuarioId))){const t=e.usuarioId===this.currentUser.id?"right-msg":"left-msg";this.addMessage(e.mensagem,t,e.usuarioId,e.data),e.id>this.lastMessageId&&(this.lastMessageId=e.id),this.messageHistory.push({id:e.id,timestamp:e.data,userId:e.usuarioId,content:e.mensagem})}})),this.addSystemMessage("Histórico sincronizado!"))}handleUserDisconnect(e){const t=this.getUserById(parseInt(e.content));this.addSystemMessage(`${t.name} desconectou`)}handleNewMessage(e){if(!this.messageHistory.some((t=>t.id===e.id&&t.userId===e.senderId))){const t=e.senderId===this.currentUser.id?"right-msg":"left-msg";this.addMessage(e.content,t,e.senderId,e.timestamp),this.messageHistory.push({id:e.id||++this.lastMessageId,timestamp:e.timestamp||this.getFormattedTime(),userId:e.senderId,content:e.content})}}handleClientIdentification(e){this.currentUser=this.getUserById(parseInt(e.content)),this.elements.userNameDisplay.textContent=this.currentUser.name,this.elements.profileImage.classList.add(this.currentUser.avatar),this.addSystemMessage(`Você está conectado como ${this.currentUser.name}`),this.webSocket.send(JSON.stringify({type:"identify",username:this.currentUser.name,clientId:this.currentUser.id})),setTimeout((()=>this.requestHistorySync()),1e3)}addMessage(e,t,s,n){const i=document.createElement("div");i.className=`msg ${"system"===t?"center-msg":t}`;const a=document.createElement("div");a.className="msg-bubble";const r=document.createElement("div");r.className="msg-info";const o=document.createElement("div");if(o.className="msg-text",o.textContent=e,s){const e=this.getUserById(s),t=document.createElement("div");t.className=`msg-img ${e.avatar}`,i.appendChild(t);const n=document.createElement("div");n.className="msg-info-name",n.textContent=e.name,r.appendChild(n)}if(n){const e=document.createElement("div");e.className="msg-info-time",e.textContent=n,r.appendChild(e)}if("system"===t){const e=document.createElement("div");e.className="msg-info-name",e.textContent="Sistema",r.appendChild(e)}a.appendChild(r),a.appendChild(o),i.appendChild(a),this.elements.chatContainer.appendChild(i),this.scrollToBottom()}addSystemMessage(e){this.addMessage(e,"system")}sendMessage(){const e=this.elements.chatInput.value.trim();if(!e||!this.isWebSocketOpen())return;const t=++this.lastMessageId,s=this.getFormattedTime();this.webSocket.send(JSON.stringify({type:"message",sender:this.currentUser.name,content:e,senderId:this.currentUser.id,id:t,timestamp:s})),this.addMessage(e,"right-msg",this.currentUser.id,s),this.messageHistory.push({id:t,timestamp:s,userId:this.currentUser.id,content:e}),this.elements.chatInput.value=""}getFormattedTime(){const e=new Date;return`${e.getDate().toString().padStart(2,"0")}/${(e.getMonth()+1).toString().padStart(2,"0")}/${e.getFullYear()} ${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`}getUserById(e){return n.PREDEFINED_USERS.find((t=>t.id===e))}isWebSocketOpen(){return this.webSocket&&this.webSocket.readyState===WebSocket.OPEN}requestHistorySync(){this.isWebSocketOpen()&&this.webSocket.send(JSON.stringify({type:"syncRequest",username:this.currentUser.name,clientId:this.currentUser.id,messageCount:this.messageHistory.length}))}}new n})()</script></body></html>